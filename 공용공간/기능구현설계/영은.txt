################# 영은

* bookApply
●
1. 공간테이블에서 예약할 공간의 정보를 조회하는 쿼리문
   1-1. 기본설명 : 공간설명(공간한줄소개), 공간유형, 예약인원(최소,최대)
   1-2. 예약정보 : 예약날짜(적용패키지.적용일자), 예약인원(전페이지로부터 받아옴)
   1-3. 예약자정보 : (디폴트값으로 하는경우)회원정보(이름, 이메일, 연락처)
   1-4. 호스트정보 : 공간상호명, 대표자명, 소재지, 사업자번호, 연락처(이메일, 휴대폰, 대표전화)
   1-5. 주의사항 : 주의사항.주의사항 내용
♥
1. 예약자정보는 직접 입력도 가능하지만 체크 버튼을 통해 현재 로그인한 회원의 정보를 디폴트값으로 받아올 수 있도록 
2. 필수입력사항 미입력, 서비스 동의를 하지 않으면 결제 불가능


* bookApplyNotice
●
1. 결제내역 확인 정보 전 페이지에서 가져오면 될듯함
   (예약자명, 연락처, 이메일, 인원수, 요청사항, 결제금액, 예약일자)
♥
1. 메인화면 돌아가기


* hostAccountManager(호스트회원관리)
●
1. 호스트 테이블로 부터 데이터를 조회하는 쿼리문
   (회원코드, 아이디, 닉네임, 블랙여부, [블랙처리사유])
   1-1. 블랙리스트 테이블을 통해 블랙리스트 여부 확인 필요
2. 블랙리스트 설정시 블랙리스트 테이블에 INSERT하는 쿼리문
3. 블랙리스트 해제시 블랙리스트 테이블에서 DELETE하는 쿼리문
4. 신고내역(공간) 테이블로 부터 데이터를 조회하는 쿼리문
   (신고일자, 신고사유, 신고처리상태, 신고유형) 

♥
1. 신고내역 버튼누르면 모든 신고내역이 팝업창으로 나와야함.
2. 블랙리스트 설정시 팝업창으로 사유를 적을 수 있게, 해제시에는 알림으로 다시한번 확인



* userAccountManager(이용자회원관리)
●
1. 이용자 테이블로 부터 데이터를 조회하는 쿼리문
   (회원코드, 아이디, 닉네임, 블랙여부, [블랙처리사유])
   1-1. 블랙리스트 테이블을 통해 블랙리스트 여부 확인 필요
2. 블랙리스트 설정시 블랙리스트 테이블에 INSERT하는 쿼리문
3. 블랙리스트 해제시 블랙리스트 테이블에서 DELETE하는 쿼리문
4. 신고내역(예약) 테이블로 부터 데이터를 조회하는 쿼리문
   (신고일자, 신고사유, 신고처리상태, 신고유형) 

♥
1. 신고내역 버튼누르면 모든 신고내역이 팝업창으로 나와야함.
2. 블랙리스트 설정시 팝업창으로 사유를 적을 수 있게, 해제시에는 알림으로 다시한번 확인

* blacklistPopup.jsp
* reportDetailPopupHost.jsp
* reportDetailPopupUser.jsp



* directMessageUser / directMessageHost
●
1. 해당 예약에 해당하는 메신저코드를 통해 메신저 내용을 조회하는 쿼리문
   (메신저내용, 이미지 테이블=>[호스트, 이용자])
   1-1. 메신저일자 내용
   1-2. 이미지 링크

♥
1. 이미지가 있는 경우에는 내용은 표시 X
2. 시간순으로 정렬하여 띄워준다. 
3. 호스트, 이용자로 구분하여 띄워준다.
   3-1. 호스트가 창을 열면 오른쪽이 호스트 왼쪽이 이용자
   3-2. 이용자가 창을 열면 오른쪽이 이용자 왼쪽이 호스트



* bookList
●
1. 예약 테이블 정보를 조회하는 쿼리문
   (예약코드, 예약자명, 공간명, 일자, 인원수, 가격, 요청사항, 상태)
2. 예약취소 클릭시 예약취소 테이블에 데이터 INSERT 쿼리문 
♥
1. 검색은 할필요 없음
2. 최신 순으로 정렬 필요.
3. 공간명을 나오게 하고 상세보기 팝업으로(예약인원수, 요청사항, 가격)
   나머지(예약코드, 예약자명, 예약현황, 예약취소)는 리스트로 보여줌
4. 취소 클릭시 취소사유를 입력하기 위한 팝업창이 필요


*search
●
1. 공간 테이블에서 정보를 조회하는 쿼리문
   (공간명, 동명, 평점(평균), 최대인원수, 리뷰수, 패키지가격(최저가부터))
2. 정렬시 해당 유형에 맞게 정렬되어 조회하는 쿼리문
   (가격, 이용후기, 별점)
♥
1. 지도 API 필요(검색된 공간을 지도에 핀으로 표시)
2. 필터 버튼 삭제(하지만 필터링은 있음)
3. 날짜는 yyyy.mm.dd ~ yyyy.mm.dd 형식으로 필터
4. 결과내 검색 버튼을 만들이 필터링에 맞는 검색 결과가 나올 수 있게
5. 검색 프로세스(공간명, (도~동)명(동을 검색시 구도 같이 나옴)[우편번호], 공간유형, )
   5-1. 제일 처음 공간명으로 검색
   5-2. 공간명 검색결과가 나오지 않았을 경우 유형으로 검색
   5-3. 마지막으로 주소를 검색


*locationDetail
●
1. 공간테이블에서 예약할 공간의 정보를 조회하는 쿼리문
   1-1. 공간소개 : (이용안내테이블) 영업시간, 정기휴무일, 지정휴무일
   1-2. 시설안내 : (시설안내테이블) 시설안내내용
   1-3. 주의사항 : 주의사항.주의사항 내용
   1-4. 패키지 : 현재 적용된 패키지 종류, 종류에따라 적용된 날짜
2. 해당 공간의 리뷰를 조회하는 쿼리문
   (평점, 리뷰내용, 리뷰작성일자, 닉네임, [회원코드])
   2-1. 이미지가 있는 경우 이미지테이블을 통해 조회
   2-2. 삭제내역이 있는 경우 삭제된 게시물로 안내하는 블라인드 처리
3. 해당 공간의 Q&A를 조회하는 쿼리문
   3-1. 삭제내역이 있는 경우 삭제된 게시물로 안내하는 블라인드 처리	
4. 해당 리뷰의 리뷰답글을 조회하는 쿼리문
   4-1. 삭제내역이 있는 경우 삭제된 게시물로 안내하는 블라인드 처리
5. 해당 Q&A의 Q&A답글을 조회하는 쿼리문 
   5-1. 삭제내역이 있는 경우 삭제된 게시물로 안내하는 블라인드 처리

♥
1. 답글이 존재하는 경우 그 답글이 참조하고 있는 리뷰, Q&A 밑에 올 수 있도록 한다.
2. 지도 API
3. 리뷰, Q&A 목록 생성시 현재 세션의 회원 코드가 같을 경우 수정 및 삭제 버튼을 활성화 시킨다.
4. 리뷰는 한번만 작성이 가능하다. 현재 세션과 같은 회원코드의 리뷰가 존재하는 경우는 이미 작성한 이력이 있다는 것으로 후기 작성이 불가능하다.  
5. 예약선택에서 날짜를 누르면(패키지 적용된 날짜만 활성화) 해당 날짜에 있는 패키지들이 라디오 박스 형식으로 보여지고 라디오 버튼을 클릭하면 결제가 가능


*modifyQnaPopup(호스트, 이용자 동일)
●
1. 수정폼에 이미 작성한 내용이 채워져 있어야함
2. 해당 Q&A코드에 맞는 Q&A내용이 수정된 내용으로 UPDATE되는 쿼리문
♥

*modifyReviewPopup(호스트, 이용자 동일)
●
1. 수정폼에 이미 작성한 내용이 채워져 있어야함
2. 해당 리뷰코드에 맞는 리뷰내용이 수정된 내용으로 UPDATE되는 쿼리문
3. 이미 첨부한 첨부파일이 채워져 있어야함
♥
1. 첨부같은 경우에는 취소버튼을 통해 지울수도 있어야한다.
2. 첨부 가능한 이미지 갯수는 최대 5개


*userQnaList
●
1. 이용자가 작성한 Q&A를 조회하는 쿼리문
    (Q&A코드, 해당공간명, 내용, 작성일)
   1-1. 삭제된 Q&A와 조인하여 삭제여부를 알수 있게
2. 삭제버튼 클릭시 삭제내역에 해당 Q&A코드를 참조하는 데이터를 INSERT
♥
1. 삭제된 Q&A 경우에는 보여주지 않는다.
2. 삭제시에도 알림

*userReviewList
●
1. 이용자가 작성한 리뷰를 조회하는 쿼리문
    (리뷰코드, 해당공간명, 내용, 작성일)
   1-1. 삭제된 리뷰와 조인하여 삭제여부를 알수 있게
2. 삭제버튼 클릭시 삭제내역에 해당 리뷰코드를 참조하는 데이터를 INSERT
♥
1. 삭제된 리뷰 경우에는 보여주지 않는다.
2. 삭제시에도 알림


*deleteAccount(호스트, 이용자 동일)
●
1. 탈퇴하기 누른 경우 호스트 회원의 모든 개인정보 삭제
   (사업자정보(공간), 연락처(공간), 프로필정보, 계좌정보)
2. 삭제 후 탈퇴 테이블에 INSERT
♥


*deleteAccount
●
1. 탈퇴하기 누른 경우 이용자 회원의 모든 개인정보 삭제
   (연락처(예약), 프로필정보, 계좌정보)
2. 삭제 후 탈퇴 테이블에 INSERT
♥